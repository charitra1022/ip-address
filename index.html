<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Know Your Public IP Details</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" 
            content="Know your public IPv4 Address, City, Region, Country Code, Internet Service Provider, Postal Code, Latitude, Longitude, Time Zone.">
        
        <meta property="og:title" content="View Public IP Address and Details" />
        <meta property="og:url" content="https://knowipaddress.netlify.app/" />
        <meta property="og:description" content="View your network's public IP Address and the public details of you that's present on the Internet. See how secure you are on the Internet." />
        <meta property="og:type" content="website" />
        <meta property="og:image" content="https://knowipaddress.netlify.app/images/icon.svg" />

        <link rel="canonical" href="https://knowipaddress.netlify.app/" />

        <link rel="stylesheet" href="style.css">
        <link rel="shortcut icon" type="image/ico" href="/images/favicon.ico">

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    </head>

    <body>
        <div id="main">
            <div id="ip-details">
                <div class="header"><img class="heading-logo" src="/images/icon.svg" /><h1>Your public IP Address details:</h1></div>

                <table class="table table-striped">
                    <caption>
                        Some details may not be accurate. This depends on your browser privacy, IP Address Servers, VPN, Proxy and other protocols.<br/>
                        This page is static. To load the latest stats, refresh this page.<br/><br/>
                        <strong>* This site will not work if you have disabled Javascript in your browser *<br/>
                        ** Users of <em>Brave Browser</em> need to Disable Brave Sheilds for this site. **</strong><br/>
                        <em>This site doesn't take any personal information of yours. It is just a simple open-source project to display IP Details. Check out this project <a href="https://github.com/charitra1022/ip-address/">here</a>.<br/>
                        It is intended for users who want to check their public details on Internet.<br/>
                        It can be used for educational purposes and checking the efficiency of your Network (Tor, VPN, etc.)</em>
                    </caption>
                    <tbody>
                        <tr>
                            <th scope="row">IPv4 Address:</th>
                            <td id="ip-address">-</td>
                        </tr>

                        <!--<tr>
                            <th scope="row">IP Version:</th>
                            <td id="ip-version">-</td>
                        </tr>-->

                        <tr>
                            <th scope="row">City: </th>
                            <td id="city">-</td>
                        </tr>

                        <tr>
                            <th scope="row">Region: </th>
                            <td id="region-name">-</td>
                        </tr>

                        <tr>
                            <th scope="row">Postal Code: </th>
                            <td id="postal-code">-</td>                        
                        </tr>

                        <!--<tr>
                            <th scope="row">Country Name: </th></td>
                            <td id="country-name">-</td>
                        </tr>-->

                        <tr>
                            <th scope="row">Country Code: </th>
                            <td id="country-code">-</td>
                        </tr>

                        <!--<tr>
                            <th scope="row">Currency: </th>
                            <td id="currency">-</td>
                        </tr>-->

                        <tr>
                            <th scope="row">ISP: </th>
                            <td id="isp">-</td>
                        </tr>

                        <tr>
                            <th scope="row">Latitude: </th>
                            <td id="latitude">-</td>
                        </tr>

                        <tr>
                            <th scope="row">Longitude: </th>
                            <td id="longitude">-</td>                        
                        </tr>

                        <tr>
                            <th scope="row">Time Zone: </th>
                            <td id="timezone">-</td>
                        </tr>

                        <tr>
                            <th scope="row">Date: </th>
                            <td id="date">-</td>
                        </tr>

                        <tr>
                            <th scope="row">Time: </th>
                            <td id="time">-</td>
                        </tr>
                    </tbody>
                </table>  
            </div>

            <div id="ip-links">
                <p id="ip-add-link"></p>
                <p id="ip-detail-link"></p>
            </div>
        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

        <script>
            $(document).ready(function(){
                cookieIp = document.cookie.split(' ').join();
                //if (document.cookie) alert(document.cookie)
            });
        </script>

        <script>
            $(document).ready(function(){
                var ipLink = "https://api.ipify.org?format=json"
                $.getJSON(ipLink, function(data){
                    $("#ip-address").html(data.ip)

                    document.cookie = data.ip.toString()

                    /*var ipDetailsLink = "http://ip-api.com/json/"+data.ip+"?fields=12133375"
                    $("#ip-detail-link").html("<a href='"+ipDetailsLink+"'>Check out Raw Details here</a>")
                    $("#ip-add-link").html("<a href='"+ipLink+"'>Check out Raw IP here</a>")
                    
                    $.getJSON(ipDetailsLink, function(data, status){
                        $("#country-name").html(data.country)
                        $("#country-code").html(data.countryCode)

                        $("#region-name").html(data.regionName)
                        
                        $("#postal-code").html(data.zip)
                        $("#city").html(data.city)
                        $("#currency").html(data.currency)
                        $("#isp").html(data.isp)

                    
                        $("#latitude").html(data.lat)
                        $("#longitude").html(data.lon)

                        $("#timezone").html(data.timezone)
                    })

                    var ipDetailsLink = "https://ipapi.co/"+data.ip+"/json/";
                    $("#ip-detail-link").html("<a href='"+ipDetailsLink+"'>Check out Raw Details here</a>")
                    $("#ip-add-link").html("<a href='"+ipLink+"'>Check out Raw IP here</a>")
                    
                    $.getJSON(ipDetailsLink, function(data, status){
                        $("#ip-version").html(data.version)
                        
                        $("#country-name").html(data.country_name)
                        $("#country-code").html(data.country)

                        $("#region-name").html(data.region)
                        
                        $("#postal-code").html(data.postal)
                        $("#city").html(data.city)
                        $("#currency").html(data.currency)
                        $("#isp").html(data.org)
                    
                        $("#latitude").html(data.latitude)
                        $("#longitude").html(data.longitude)

                        $("#timezone").html(data.timezone)
                    })*/

                    var ipDetailsLink = "https://ipinfo.io/?token=ec63c5a229286d"
                    //$("#ip-detail-link").html("<a href='"+ipDetailsLink+"'>Check out Raw Details here</a>")
                    $("#ip-detail-link").html("<a href='http://ip-api.com/json/"+data.ip+"?fields=12133375'>Check out Raw Details here</a>")
                    $("#ip-add-link").html("<a href='"+ipLink+"'>Check out Raw IP here</a>")

                    $.getJSON(ipDetailsLink, function(data){
                        $("#country-code").html(data.country)

                        $("#region-name").html(data.region)
                        
                        $("#postal-code").html(data.postal)
                        $("#city").html(data.city)
                        $("#isp").html(data.org)

                        var loc = data.loc.split(',');

                        $("#latitude").html(loc[0])
                        $("#longitude").html(loc[1])

                        $("#timezone").html(data.timezone)
                    })     
                })           

                var d = new Date($.now())
                var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]
                var date = d.getDate() + "-" + months[d.getMonth()] + "-" + d.getFullYear()
                var time = d.toLocaleTimeString()
                $("#date").html(date)
                $("#time").html(time)
            });
        </script>  
        <footer class="bg-light text-center text-lg-start">
            <!-- Copyright -->
            <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
                © 2020-<script>document.write(new Date().getFullYear())</script> Copyright:
                <a class="text-dark" href="https://github.com/Charitra1022/">Charitra Agarwal</a>
            </div>
            <!-- Copyright -->
    </footer>  
    </body>
</html>
